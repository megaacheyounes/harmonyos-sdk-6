<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>SystemRestore</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../jquery/jquery-1.10.2.js"></script>
<script type="text/javascript" src="../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SystemRestore";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../";loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../ohos/systemrestore/ISystemRestoreProgressListener.html" title="interface in ohos.systemrestore"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../ohos/systemrestore/SystemRestoreException.html" title="class in ohos.systemrestore"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?ohos/systemrestore/SystemRestore.html" target="_top">Frames</a></li>
<li><a href="SystemRestore.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><span>SEARCH:&nbsp;</span>
<input type="text" id="search" value=" " disabled="disabled">
<input type="reset" id="reset" value=" " disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="../../ohos/systemrestore/package-summary.html">ohos.systemrestore</a></div>
<h2 title="Class SystemRestore" class="title">Class SystemRestore</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="../../java/lang/Object.html" title="class in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>ohos.systemrestore.SystemRestore</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">SystemRestore</span>
extends <a href="../../java/lang/Object.html" title="class in java.lang">Object</a></pre>
<div class="block">Provides interfaces to restore systems.

 <p>These interfaces are used to restore factory settings, clear the cache partition,
 and verify and install an OTA upgrade package.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1</dd>
<dt><span class="simpleTagLabel">SystemCapability</span></dt>
<dd>SystemCapability.Startup.Restore</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="../../ohos/systemrestore/SystemRestore.html#SystemRestore--">SystemRestore</a></span>&#8203;()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../ohos/systemrestore/SystemRestore.html#rebootAndCleanCache-ohos.app.Context-">rebootAndCleanCache</a></span>&#8203;(<a href="../../ohos/app/Context.html" title="interface in ohos.app">Context</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Reboots a device and clears its cache partition in system restore mode.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../ohos/systemrestore/SystemRestore.html#rebootAndCleanUserData-ohos.app.Context-">rebootAndCleanUserData</a></span>&#8203;(<a href="../../ohos/app/Context.html" title="interface in ohos.app">Context</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Reboots a device and clears its user partition in system restore mode.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../ohos/systemrestore/SystemRestore.html#rebootAndInstallUpgradePackage-ohos.app.Context-java.io.File-">rebootAndInstallUpgradePackage</a></span>&#8203;(<a href="../../ohos/app/Context.html" title="interface in ohos.app">Context</a>&nbsp;context,
                              <a href="../../java/io/File.html" title="class in java.io">File</a>&nbsp;upgradeFile)</code></th>
<td class="colLast">
<div class="block">Installs the upgrade package after a device is rebooted.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../ohos/systemrestore/SystemRestore.html#verifyUpgradePackage-java.io.File-ohos.systemrestore.ISystemRestoreProgressListener-java.io.File-">verifyUpgradePackage</a></span>&#8203;(<a href="../../java/io/File.html" title="class in java.io">File</a>&nbsp;upgradeFile,
                    <a href="../../ohos/systemrestore/ISystemRestoreProgressListener.html" title="interface in ohos.systemrestore">ISystemRestoreProgressListener</a>&nbsp;listener,
                    <a href="../../java/io/File.html" title="class in java.io">File</a>&nbsp;deviceCertsZipFile)</code></th>
<td class="colLast">
<div class="block">Checks whether the upgrade package is valid before an upgrade.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="../../java/lang/Object.html" title="class in java.lang">Object</a></h3>
<code><a href="../../java/lang/Object.html#clone--">clone</a>, <a href="../../java/lang/Object.html#equals-java.lang.Object-">equals</a>, <a href="../../java/lang/Object.html#finalize--">finalize</a>, <a href="../../java/lang/Object.html#getClass--">getClass</a>, <a href="../../java/lang/Object.html#hashCode--">hashCode</a>, <a href="../../java/lang/Object.html#notify--">notify</a>, <a href="../../java/lang/Object.html#notifyAll--">notifyAll</a>, <a href="../../java/lang/Object.html#toString--">toString</a>, <a href="../../java/lang/Object.html#wait--">wait</a>, <a href="../../java/lang/Object.html#wait-long-">wait</a>, <a href="../../java/lang/Object.html#wait-long-int-">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SystemRestore--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SystemRestore</h4>
<pre>public&nbsp;SystemRestore&#8203;()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="rebootAndCleanCache-ohos.app.Context-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rebootAndCleanCache</h4>
<pre>public static&nbsp;boolean&nbsp;rebootAndCleanCache&#8203;(<a href="../../ohos/app/Context.html" title="interface in ohos.app">Context</a>&nbsp;context)
                                   throws <a href="../../ohos/systemrestore/SystemRestoreException.html" title="class in ohos.systemrestore">SystemRestoreException</a></pre>
<div class="block">Reboots a device and clears its cache partition in system restore mode.

 <p>To use this method, applications must have permissions to access system components,
 and to reboot and restore the system.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - Indicates the system context.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns <code>false</code> if input parameters are incorrect;
 returns a specific exception if any exception occurs on the current module;
 returns <code>true</code> if the rebooted device enters the cache clear mode,
 but there is no chance that you will see the value in this case.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../ohos/systemrestore/SystemRestoreException.html" title="class in ohos.systemrestore">SystemRestoreException</a></code> - Throws a system restore exception you have defined,
 such as a system context error, no permissions to access system components,
 or no permissions to reboot or restore the system.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1</dd>
</dl>
</li>
</ul>
<a name="rebootAndCleanUserData-ohos.app.Context-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rebootAndCleanUserData</h4>
<pre>public static&nbsp;boolean&nbsp;rebootAndCleanUserData&#8203;(<a href="../../ohos/app/Context.html" title="interface in ohos.app">Context</a>&nbsp;context)
                                      throws <a href="../../ohos/systemrestore/SystemRestoreException.html" title="class in ohos.systemrestore">SystemRestoreException</a></pre>
<div class="block">Reboots a device and clears its user partition in system restore mode.

 <p>To use this method, applications must have permissions to access system components,
 and to reboot and restore the system.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - Indicates the system context.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns <code>false</code> if input parameters are incorrect;
 returns a specific exception if any exception occurs on the current module;
 returns <code>true</code> if factory settings of the rebooted device can be restored,
 but there is no chance that you will see the value in this case.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../ohos/systemrestore/SystemRestoreException.html" title="class in ohos.systemrestore">SystemRestoreException</a></code> - Throws a system restore exception you have defined,
 such as a system context error, no permissions to access system components,
 no permissions to reboot or restore the system,
 or no permissions to send or receive broadcasts of restoring factory settings.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1</dd>
</dl>
</li>
</ul>
<a name="verifyUpgradePackage-java.io.File-ohos.systemrestore.ISystemRestoreProgressListener-java.io.File-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verifyUpgradePackage</h4>
<pre>public static&nbsp;void&nbsp;verifyUpgradePackage&#8203;(<a href="../../java/io/File.html" title="class in java.io">File</a>&nbsp;upgradeFile,
                                        <a href="../../ohos/systemrestore/ISystemRestoreProgressListener.html" title="interface in ohos.systemrestore">ISystemRestoreProgressListener</a>&nbsp;listener,
                                        <a href="../../java/io/File.html" title="class in java.io">File</a>&nbsp;deviceCertsZipFile)
                                 throws <a href="../../ohos/systemrestore/SystemRestoreException.html" title="class in ohos.systemrestore">SystemRestoreException</a></pre>
<div class="block">Checks whether the upgrade package is valid before an upgrade.

 <p>Before installing the upgrade package, an application checks whether the private key
 in the upgrade package matches the imported public key file. If they match each other,
 no exception will be thrown. The application must also verify the upgrade package
 if the device is rebooted and enters the system restore mode.
 <p> It may take an extended period to verify the upgrade package.
 If the execution of this method interrupts a thread, a defined exception will be thrown.
 Therefore, you are advised not to call this method from any UI threads.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>upgradeFile</code> - Indicates the upgrade package to be verified.</dd>
<dd><code>listener</code> - Indicates the interface to call back the verification progress.
 This parameter can be null. For details, see <a href="../../ohos/systemrestore/ISystemRestoreProgressListener.html" title="interface in ohos.systemrestore"><code>ISystemRestoreProgressListener</code></a>.</dd>
<dd><code>deviceCertsZipFile</code> - Indicates the compressed file of the public key certificate.
 This parameter can be null. If it is null,
 the default system file <b>/system/etc/security/otacerts.zip</b> is used.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../ohos/systemrestore/SystemRestoreException.html" title="class in ohos.systemrestore">SystemRestoreException</a></code> - Throws a system restore exception you have defined,
 such as a failure to read the upgrade package, a failure to read the public key file,
 or a verification failure.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1</dd>
</dl>
</li>
</ul>
<a name="rebootAndInstallUpgradePackage-ohos.app.Context-java.io.File-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>rebootAndInstallUpgradePackage</h4>
<pre>public static&nbsp;void&nbsp;rebootAndInstallUpgradePackage&#8203;(<a href="../../ohos/app/Context.html" title="interface in ohos.app">Context</a>&nbsp;context,
                                                  <a href="../../java/io/File.html" title="class in java.io">File</a>&nbsp;upgradeFile)
                                           throws <a href="../../ohos/systemrestore/SystemRestoreException.html" title="class in ohos.systemrestore">SystemRestoreException</a></pre>
<div class="block">Installs the upgrade package after a device is rebooted.

 <p>To use this method, applications must have permissions to access system components,
 and to reboot and restore the system.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - Indicates the system context.</dd>
<dd><code>upgradeFile</code> - Indicates the upgrade package.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../ohos/systemrestore/SystemRestoreException.html" title="class in ohos.systemrestore">SystemRestoreException</a></code> - Throws a system restore exception you have defined,
 such as a system context error, a failure to read the upgrade package,
 no permissions to access system components, or no permissions to reboot or restore the system.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../ohos/systemrestore/ISystemRestoreProgressListener.html" title="interface in ohos.systemrestore"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../ohos/systemrestore/SystemRestoreException.html" title="class in ohos.systemrestore"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?ohos/systemrestore/SystemRestore.html" target="_top">Frames</a></li>
<li><a href="SystemRestore.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
